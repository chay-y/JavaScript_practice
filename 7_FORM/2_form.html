<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="container">
        <form name="order">
            <fieldset>
                <legend>로그인</legend>
                <ul>
                    <li>
                        <label for="userId">아이디</label>
                        <input type="text" id="userId">
                    </li>
                    <li>
                        <label for="userPw1">비밀번호</label>
                        <input type="text" id="userPw1">
                    </li>
                    <li>
                        <label for="userPw2">비밀번호 확인</label>
                        <input type="text" id="userPw2">
                    </li>
                    <li>
                        <label for="email">이메일</label>
                        <input type="text" id="email">
                    </li>
                </ul>
                <ul>
                    <li><button type="submit">가입하기</button></li>
                    <li><button type="reset">취소</button></li>
                </ul>
            </fieldset>
        </form>
    </div>

    <script>
        let userId = document.querySelector("#userId");
        let pw1 = document.querySelector("#userPw1");
        let pw2 = document.querySelector("#userPw2");
        let email = document.querySelector("#email");

        userId.onchange = checkId;
        pw1.onchange = checkPw;
        pw2.onchange = comparePw;
        email.onchange = checkEmail;

        function checkId(){
            //아이디의 길이가 4~10글자 사이만 입력되도록
            if (userId.value.length < 4 || userId.value.length > 10){
                alert("아이디는 4~10글자로만 입력해주세요.")
            }
        }
        function checkPw(){
            let pwPattern = /^(?=.*[a-zA-Z])(?=.*[!@#$%^&*()-_+=~])(?=.*[0-9]).{8,16}$/;
            if (!pwPattern.test(pw1.value)){
                alert("비밀번호는 8자리 이상")
                pw1.value="";
                pw1.focus();
            }
        }
        function comparePw(){
            if (pw1.value != pw2.value){
                alert("암호가 다릅니다.")
                pw2.value="";
                pw2.focus();
            }
        }
        function checkEmail(){
            let emailPattern = /^[a-zA-Z0-9+-_.]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/;
            if(!emailPattern.test(email.value)){
                alert("유효한 이메일 형식이 아닙니다...")
            }
        }
    </script>
</body>
</html>